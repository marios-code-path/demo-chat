logging:
  level:
    root: INFO
  #    io.rsocket.FrameLogger: DEBUG
  pattern:
    console: "%d{HH:mm:ss.SSS} [%thread] %logger.%M - %msg%n"

management:
  info:
    git:
      mode: full
  endpoint:
    shutdown:
      enabled: true
    enabled-by-default: true
    health:
      enabled: true
    info:
      enabled: true
  endpoints:
    web:
      exposure:
        include: info,health,shutdown,rootkeys

spring:
  #  config:
  #    import: "optional:consul:"
  main:
    web-application-type: reactive
  application:
    name: "${app.primary}-service-${app.proto}"
  cloud:
    consul:
      discovery:
        enabled: true
        tags: rsocket
        port: ${spring.rsocket.server.port}
        metadata:
          rsocketPort: ${spring.rsocket.server.port}
          keyType: ${app.key.type}
        instance-id: "${spring.application.name}:${random.value}"
        management-port: ${management.server.port}
      config:
        enabled: true
        format: YAML
        data-key: data

#spring:
#  rsocket:
#    server:
#      transport: websocket
#      mapping-path: /rsocket

#app:
#  suffix: ${git.commit.id.abbrev}-${git.branch}
